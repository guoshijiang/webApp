<!DOCTYPE html>
<!-- saved from url=(0043)https://cdn.wilddog.com/docs/demo/sync.html -->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<meta name="viewport" content="width=640, user-scalable=no">
	<style>
		* {
			margin: 0;
			padding: 0;
		}
		body {
			width: 100%;
			height: 100%;

		}
		input {
			display: block;
			width: 50%;
			height: 50px;
			border-radius: 20px;
			outline: none;
			font:500 30px "Microsoft YaHei";
			margin-bottom: 5px;
			margin-left: 3%;
			text-indent: 20px;
		}
		#zhufu {
			opacity: 0.8;
		}
		#nam {
			margin-top: 8%;
		}
		.inps {
			clear: both;
			overflow: hidden;
		}
		.btn {
			width: 25%;
			background-color: #FF0000;
			float: left;


		}
		textarea {
			width: 90%;
			margin: 10px 4%;
			border: none;
			line-height: 30px;
			font-size: 30px;
			color:blue;
			text-align: center;


		}
		h2 {
			text-align: center;
			margin-top: 5%;
			font-size: 40px;
		}
	</style>
</head>
<body onload="onValue()">
 <div id="zhufu">
	 <div class="inps">
		 <input type="button" class="btn" onclick="onAddLike()" value="点赞">
		 <input type="button" class="btn" onclick="onAddLook()" value="增加查看">
	 </div>

	 <h2>留言板:</h2>
<textarea  cols="30" rows="20" style="overflow-x:scroll;overflow-y:scroll ;"
		   id="tx">
</textarea>

 </div>


















 <script src="./dogTest_files/wilddog.js"></script>
 <script>
    var tx = document.getElementById("tx");
    function onValue() {
        var url = "https://wedding1002.wilddogio.com/data";
        var ref = new Wilddog(url);
		ref.on("value",function(snapshot){
        var msg = "";
		msg =  snapshot.val().like + "\r\n" + snapshot.val().look
		//前面是点赞数量， 后面是查看的数量。实时更新的。别的地方更新，这边会同步
		//赋到对应的控件上即可
		tx.innerHTML = "";
		tx.innerHTML = msg ;

	});
    }
	function onAddLike() {

        var msg  ;

		var url = "https://wedding1002.wilddogio.com/data/";
		var ref = new Wilddog(url);
		var a = 0 ;//从页面上获取，tx上，对应点赞数量上的控件
		a = a + 1;
	    ref.update({"like":a});
		msg = a.toString();
		tx.innerHTML = msg ;
    }

   	function onAddLook() {



		var url = "https://wedding1002.wilddogio.com/data";
        var ref = new Wilddog(url);
        var a = 0 ;//从页面上获取，tx上，对应查看数量的控件
		a = a + 1;
	    ref.update({"look":a});
		msg = a.toString();
		tx.innerHTML = msg ;
    }
</script>  

  
    


</body></html>